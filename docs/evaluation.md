# 評価モジュール (`evaluation.rs`)

このモジュールは、将棋の局面を評価し、数値スコアを割り当てる責任があります。スコアが高いほど、現在の手番のプレイヤーにとって有利な局面であることを示します。

## 主な機能

*   **KPP (King, Piece, Piece) 特徴ベースの評価:** 玉と他の2つの駒の相対的な位置を考慮する高度な評価方法です。これにより、単純な駒得よりも局面をより微妙に理解できます。
*   **駒得:** 盤上および手持ちの駒の価値のみを考慮する、より単純な評価方法です。
*   **SparseModel:** KPP評価モデルを表す構造体です。KPP特徴の重み、バイアス項、および駒得の係数が含まれています。

## 主要な構造体とトレイト

*   `Evaluator`: すべての評価関数のインターフェースを定義するトレイトです。局面を受け取りスコアを返す単一のメソッド `evaluate` を持ちます。
*   `SparseModel`: KPP評価モデルを保持する構造体です。
*   `SparseModelEvaluator`: `SparseModel` を使用して局面を評価する `Evaluator` トレイトの実装です。

## 主要な関数

*   `extract_kpp_features`: 特定の局面からKPP特徴を抽出します。
*   `calculate_material_advantage`: 現在のプレイヤーの駒得を計算します。
*   `index_to_kpp_info`: KPP特徴インデックスを人間が読める形式に変換するデバッグ関数です。
*   `generate_sfen`: KPP特徴を表すSFEN文字列を生成するデバッグ関数です。